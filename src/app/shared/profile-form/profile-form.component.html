
<mat-card class="profile-card">
	<mat-card-header>
		<mat-card-title>Create a New Profile</mat-card-title>
	</mat-card-header>
	<mat-card-content>
		<form [formGroup]="profile">
			<mat-form-field appearance="outline" class="input-container">
				<mat-label>First name</mat-label>
				<input matInput formControlName="firstName" required minlength="2" maxlength="30">
				<mat-error *ngIf="hasError('firstName', 'required')">Field is required</mat-error>
				<mat-error *ngIf="hasError('firstName', 'minlength')">Min length is 2</mat-error>
			</mat-form-field>
			<mat-form-field appearance="outline" class="input-container">
				<mat-label>Last name</mat-label>
				<input matInput formControlName="lastName" required minlength="2" maxlength="30">
				<mat-error *ngIf="hasError('lastName', 'required')">Field is required</mat-error>
				<mat-error *ngIf="hasError('lastName', 'minlength')">Min length is 2</mat-error>
			</mat-form-field>
			<mat-form-field appearance="outline" class="input-container">
				<mat-label>Birthdate</mat-label>
				<input matInput [matDatepicker]="picker" [max]="maxDate" formControlName="birthDate" readonly="true" required>
				<mat-error *ngIf="hasError('birthDate', 'required')">Field is required</mat-error>
				<mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
				<mat-datepicker #picker disabled="false"></mat-datepicker>
			</mat-form-field>
			<mat-form-field appearance="outline" class="input-container">
				<mat-label>Gender</mat-label>
				<mat-select formControlName="gender">
					<mat-option *ngFor="let gender of genders" [value]="gender.value" >
						{{gender.label}}
					</mat-option>
				</mat-select>
			</mat-form-field>
			<mat-form-field appearance="outline" class="input-container">
				<mat-label>Country</mat-label>
				<input matInput formControlName="country">
			</mat-form-field>
			<mat-form-field appearance="outline" class="input-container">
				<mat-label>Street</mat-label>
				<input matInput formControlName="street">
			</mat-form-field>
			<mat-form-field appearance="outline" class="input-container">
				<mat-label>Apartment</mat-label>
				<input matInput formControlName="apartment">
			</mat-form-field>
		</form>
	</mat-card-content>
	<mat-card-actions align="end">
		<button (click)="onSubmit()" mat-raised-button color="primary" [disabled]="!profile.valid">{{profileToEdit === undefined ? 'Create' : 'Edit'}}</button>
		<button mat-raised-button color="warn" *ngIf="profileToEdit === undefined" (click)="clearFields()">Clear</button>
		<button mat-raised-button color="warn" *ngIf="profileToEdit !== undefined" (click)="cancelUpdate()">Cancel</button>
	</mat-card-actions>
</mat-card>

